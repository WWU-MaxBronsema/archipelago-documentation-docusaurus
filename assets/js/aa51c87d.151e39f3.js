"use strict";(self.webpackChunkarchipelago_documentation_docsaurus=self.webpackChunkarchipelago_documentation_docsaurus||[]).push([[4009],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var i=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=i.createContext({}),p=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var a=e.components,r=e.mdxType,n=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,h=m["".concat(s,".").concat(c)]||m[c]||d[c]||n;return a?i.createElement(h,l(l({ref:t},u),{},{components:a})):i.createElement(h,l({ref:t},u))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=a.length,l=new Array(n);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[m]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<n;p++)l[p]=a[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,a)}c.displayName="MDXCreateElement"},7120:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>n,metadata:()=>o,toc:()=>p});var i=a(7462),r=(a(7294),a(3905));const n={},l="Twig Templates and Archipelago",o={unversionedId:"metadatatwigs",id:"metadatatwigs",title:"Twig Templates and Archipelago",description:"ADOlife",source:"@site/docs/metadatatwigs.md",sourceDirName:".",slug:"/metadatatwigs",permalink:"/archipelago-documentation-docusaurus/docs/metadatatwigs",draft:!1,editUrl:"https://pr.new/github.com/WWU-MaxBronsema/archipelago-documentation-docusaurus/docs/metadatatwigs.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Archipelagos in the Wild",permalink:"/archipelago-documentation-docusaurus/docs/inthewild"},next:{title:"Customizing Webforms: Modifying allowable file extensions",permalink:"/archipelago-documentation-docusaurus/docs/modifyingfileextensionsinwebform"}},s={},p=[{value:"What is Twig?",id:"what-is-twig",level:3},{value:"Where is Twig used in Archipelago?",id:"where-is-twig-used-in-archipelago",level:3},{value:"Twig Templates as Metadata Display Entities",id:"twig-templates-as-metadata-display-entities",level:3},{value:"Twig Templates Shipped with Archipelago",id:"twig-templates-shipped-with-archipelago",level:3},{value:"Instructions and Examples",id:"instructions-and-examples",level:3}],u={toc:p},m="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"twig-templates-and-archipelago"},"Twig Templates and Archipelago"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"ADOlife",src:a(1525).Z,width:"512",height:"551"})),(0,r.kt)("p",null,"Archipelago uses a fast, cached templating system that is core to Drupal, called ",(0,r.kt)("inlineCode",{parentName:"p"},"Twig"),". In its guts (or its heart?) Archipelago uses this system to transform the ",(0,r.kt)("em",{parentName:"p"},"close to your needs open schema metadata")," that lives in every ",(0,r.kt)("inlineCode",{parentName:"p"},"strawberryfield")," as JSON into ",(0,r.kt)("em",{parentName:"p"},"close to other one's fixed schema needs metadata"),". This is quite simple, but it is an essential component of our vision of how a repository should manage metadata."),(0,r.kt)("h3",{id:"what-is-twig"},"What is Twig?"),(0,r.kt)("p",null,"Twig is a template engine for PHP part of Symfony framework."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://twig.symfony.com"},"Twig in Symfony")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.drupal.org/docs/theming-drupal/twig-in-drupal"},"Twig in Drupal")),(0,r.kt)("li",{parentName:"ul"},"A template engine is a processor. It allows you to mix and process ",(0,r.kt)("em",{parentName:"li"},"templates")," with ",(0,r.kt)("em",{parentName:"li"},"data")," to generate an output ",(0,r.kt)("em",{parentName:"li"},"document"),".",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Template: Some type of static Document (we name this a \u201cFrame\u201d)"),(0,r.kt)("li",{parentName:"ul"},"Data: Your Archipelago Digital Object (ADO) info and your Metadata"),(0,r.kt)("li",{parentName:"ul"},"Processor: Allows you to use a rich and expressive language to pick, check, iterate, transform and output your data inside the Template. We refer to this as \u201ccasting\u201d.")))),(0,r.kt)("h3",{id:"where-is-twig-used-in-archipelago"},"Where is Twig used in Archipelago?"),(0,r.kt)("p",null,"This templating system is exposed to Archipelago users through the UI, and is stored in the repository as content. This setup empowers users to fully control how metadata is transformed and published without touching their individual sources or needing to manage hard-coded configurations. We named these readily accessible and powerful templates ",(0,r.kt)("inlineCode",{parentName:"p"},"Metadata Display entities"),", but they serve more than just display needs."),(0,r.kt)("p",null,"Twig drives ",(0,r.kt)("strong",{parentName:"p"},"every")," Page in a Drupal 8/9/10 environment."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Twig templates are normally files (.twig.html) that live in your Code."),(0,r.kt)("li",{parentName:"ul"},"Modules provide Templates, Themes provide Templates")),(0,r.kt)("p",null,"Twig drives ",(0,r.kt)("strong",{parentName:"p"},"every")," aspect of your ADO exposure to the world in Archipelago and even batch Ingest."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Strawberryfield Metadata (JSON, your Data) is passed through a ",(0,r.kt)("strong",{parentName:"li"},"Metadata Display Entity")," which holds:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"A Twig template (so you do not need to edit Files)"),(0,r.kt)("li",{parentName:"ul"},"A desired output serialization format (the Output Document)")))),(0,r.kt)("h3",{id:"twig-templates-as-metadata-display-entities"},"Twig Templates as Metadata Display Entities"),(0,r.kt)("p",null,"Templates or recipes can be shared, exported, ingested, updated, and adapted in many ways. This means you can make changes quickly without having to wait for the next major release of Archipelago or your favorite Metadata Schema Specs Committee\u2019s agreement to implement the next or the last version. This module not only handles metadata but media assets as well. It will extract local or remote URIs and files from your metadata and render them as media viewers: books, 3D models, images, panoramas, A/V, all with IIIF in its soul."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Metadata Display Entities")," are used for:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Display:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"ADO landing pages (via Drupal Field Formatter)"),(0,r.kt)("li",{parentName:"ul"},"IIIF or JSON driven viewers (via Drupal Field Formatter and using Exposed Metadata Endpoints)"),(0,r.kt)("li",{parentName:"ul"},"Map Formatter (Drupal Field Formatter)"),(0,r.kt)("li",{parentName:"ul"},"Custom Blocks (Drupal Views)"),(0,r.kt)("li",{parentName:"ul"},"Search Result Displays (Drupal Views)"),(0,r.kt)("li",{parentName:"ul"},"Collection and Creative Work Series (old compound) displays (Drupal Views)"))),(0,r.kt)("li",{parentName:"ul"},"Machinable Output",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Exposed Metadata Endpoints (Standalone URLs to access metadata)"))),(0,r.kt)("li",{parentName:"ul"},"Batch Ingest",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"AMI Ingest: To transform your CSV data (one row == DATA) to Strawberry field JSON to generate an ADO")))),(0,r.kt)("h3",{id:"twig-templates-shipped-with-archipelago"},"Twig Templates Shipped with Archipelago"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Archipelago Ships with:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"IIIF Manifest V3 for Images (JSON-LD) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"IIIF Manifest V2 for Images and Documents (JSON-LD) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"IIIF Manifest V3 for Collections (JSON-LD) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"IIIF Manifest V3 for Creative Work Series/Compound Objects Parent and Children (JSON-LD) Metadata Displays"),(0,r.kt)("li",{parentName:"ul"},"A General ADO Description (HTML) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"A Linked Data Display (HTML) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"GEOJSON (JSON) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"An AMI (JSON) Ingest Template"),(0,r.kt)("li",{parentName:"ul"},"A Multiple Thumbnails via IIIF and Fontawesome (HTML) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"A Metadata Abstract for Search Results (HTML) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"A Simple Dublin Core (XML) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"MODS 3.7 (XML) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"A Schema.org (JSON-LD) Metadata Display"),(0,r.kt)("li",{parentName:"ul"},"Carousel (in Bootstrap) for Images (HTML) Metadata Display ")),(0,r.kt)("p",null,"You can find these templates here:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"On Github:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/esmero/archipelago-deployment/tree/1.0.0/d8content/metadatadisplays"},"Local Deployment")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/esmero/archipelago-deployment-live/tree/1.0.0/drupal/d8content/metadatadisplays"},"Live/Production Deployment")))),(0,r.kt)("li",{parentName:"ul"},"In your local instance: http://localhost:8001/metadatadisplay/list"),(0,r.kt)("li",{parentName:"ul"},"In your live instance: ",(0,r.kt)("a",{parentName:"li",href:"https://yourdomain.org/metadatadisplay/list"},"https://yourdomain.org/metadatadisplay/list"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Archipelago (the humans) will keep adding and refining these with every release.")),(0,r.kt)("h3",{id:"instructions-and-examples"},"Instructions and Examples"),(0,r.kt)("p",null,"While a lot of core needs and use cases are covered with the Twig Templates shipped with Archipelago, you may want to ",(0,r.kt)("strong",{parentName:"p"},"add more Input elements")," to your Webforms, which in turn will generate ",(0,r.kt)("strong",{parentName:"p"},"new JSON Values"),", which in turn you may want to ",(0,r.kt)("strong",{parentName:"p"},"show/expose to end users"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Knowing")," (even if you do not plan to) how to edit or create your own ",(0,r.kt)("strong",{parentName:"p"},"Twig templates")," is important."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"This guide covers the Basics of ",(0,r.kt)("a",{parentName:"li",href:"/archipelago-documentation-docusaurus/docs/workingtwigs"},"Working With Twig in Archipelago")),(0,r.kt)("li",{parentName:"ul"},"This section contains ",(0,r.kt)("a",{parentName:"li",href:"/archipelago-documentation-docusaurus/docs/workingtwigs#full-examples-for-common-uses-cases"},"Full Examples of Common Use Cases")),(0,r.kt)("li",{parentName:"ul"},"This section covers a ",(0,r.kt)("a",{parentName:"li",href:"/archipelago-documentation-docusaurus/docs/workingtwigs#a-recommended-workflow"},"Recommended Workflow")),(0,r.kt)("li",{parentName:"ul"},"You may also want learn more about what ",(0,r.kt)("inlineCode",{parentName:"li"},"format_strawberryfield")," can do and what many other possibilities are exposed through our templating system in this guide: ",(0,r.kt)("a",{parentName:"li",href:"/archipelago-documentation-docusaurus/docs/strawberryfield-formatters"},"Strawberryfield Formatters"),".")),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Thank you for reading! Please contact us on our ",(0,r.kt)("a",{parentName:"p",href:"https://groups.google.com/forum/#!forum/archipelago-commons"},"Archipelago Commons Google Group")," with any questions or feedback."),(0,r.kt)("p",null,"Return to the ",(0,r.kt)("a",{parentName:"p",href:"/archipelago-documentation-docusaurus/docs/"},"Archipelago Documentation main page"),"."))}d.isMDXComponent=!0},1525:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/jsonupcaststar-9c89663902be4a913810b7bd20209418.png"}}]);