"use strict";(self.webpackChunkarchipelago_documentation_docsaurus=self.webpackChunkarchipelago_documentation_docsaurus||[]).push([[9832],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(a),m=o,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||l;return a?n.createElement(h,r(r({ref:t},c),{},{components:a})):n.createElement(h,r({ref:t},c))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=a.length,r=new Array(l);r[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:o,r[1]=i;for(var p=2;p<l;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},1313:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var n=a(7462),o=(a(7294),a(3905));const l={title:"Archipelago-deployment: upgrading to 1.0.0 (1.0.0-RC3 to 1.0.0)",tags:["Archipelago-deployment","Drupal 9"]},r="Archipelago-deployment: upgrading from 1.0.0-RC3 to 1.0.0",i={unversionedId:"archipelago-deployment-upgradeFromRC3",id:"archipelago-deployment-upgradeFromRC3",title:"Archipelago-deployment: upgrading to 1.0.0 (1.0.0-RC3 to 1.0.0)",description:"What is this documentation for?",source:"@site/docs/archipelago-deployment-upgradeFromRC3.md",sourceDirName:".",slug:"/archipelago-deployment-upgradeFromRC3",permalink:"/archipelago-documentation-docusaurus/docs/archipelago-deployment-upgradeFromRC3",draft:!1,editUrl:"https://pr.new/github.com/WWU-MaxBronsema/archipelago-documentation-docusaurus/docs/archipelago-deployment-upgradeFromRC3.md",tags:[{label:"Archipelago-deployment",permalink:"/archipelago-documentation-docusaurus/docs/tags/archipelago-deployment"},{label:"Drupal 9",permalink:"/archipelago-documentation-docusaurus/docs/tags/drupal-9"}],version:"current",frontMatter:{title:"Archipelago-deployment: upgrading to 1.0.0 (1.0.0-RC3 to 1.0.0)",tags:["Archipelago-deployment","Drupal 9"]},sidebar:"tutorialSidebar",previous:{title:"Archipelago-deployment: upgrading Drupal 8 to Drupal 9 (1.0.0-RC2 to 1.0.0-RC3)",permalink:"/archipelago-documentation-docusaurus/docs/archipelago-deployment-upgradeFromD8ToD9"},next:{title:"Installing Archipelago Drupal 9 on Ubuntu 18.04 or 20.04",permalink:"/archipelago-documentation-docusaurus/docs/archipelago-deployment-windows"}},s={},p=[{value:"What is this documentation for?",id:"what-is-this-documentation-for",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Backing up and preparing for the upgrade",id:"backing-up-and-preparing-for-the-upgrade",level:2},{value:"Step 1:",id:"step-1",level:3},{value:"Step 2:",id:"step-2",level:3},{value:"Step 3:",id:"step-3",level:3},{value:"Step 4:",id:"step-4",level:3},{value:"Step 5:",id:"step-5",level:3},{value:"Upgrading to 1.0.0",id:"upgrading-to-100",level:2},{value:"Step 1:",id:"step-1-1",level:3},{value:"Step 2:",id:"step-2-1",level:3},{value:"Step 3:",id:"step-3-1",level:3},{value:"What if not all is OK and I see red and a lot of dependency explanations?",id:"what-if-not-all-is-ok-and-i-see-red-and-a-lot-of-dependency-explanations",level:4},{value:"Step 4:",id:"step-4-1",level:3},{value:"Step 5:",id:"step-5-1",level:3},{value:"A Partial Sync, which will bring new configs and update existing ones but will <strong>not</strong> remove ones that only exist in your custom setup, e.g. new Webforms or View Modes.",id:"a-partial-sync-which-will-bring-new-configs-and-update-existing-ones-but-will-not-remove-ones-that-only-exist-in-your-custom-setup-eg-new-webforms-or-view-modes",level:4},{value:"A Complete Sync, which will bring new configs and update existing ones but will also remove all the ones that are not part of 1.0.0. It&#39;s a like clean factory reset.",id:"a-complete-sync-which-will-bring-new-configs-and-update-existing-ones-but-will-also-remove-all-the-ones-that-are-not-part-of-100-its-a-like-clean-factory-reset",level:4},{value:"Step 7: Update (or not) your Metadata Display Entities and Menu items.",id:"step-7-update-or-not-your-metadata-display-entities-and-menu-items",level:3},{value:"Need help? Blue Screen? Missed a step? Need a hug and such?",id:"need-help-blue-screen-missed-a-step-need-a-hug-and-such",level:3},{value:"Caring &amp; Coding + Fixing + Testing",id:"caring--coding--fixing--testing",level:2},{value:"License",id:"license",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"archipelago-deployment-upgrading-from-100-rc3-to-100"},"Archipelago-deployment: upgrading from 1.0.0-RC3 to 1.0.0"),(0,o.kt)("h2",{id:"what-is-this-documentation-for"},"What is this documentation for?"),(0,o.kt)("p",null,"If you already have a well-set-up and well-loved Archipelago (RC3 or your own custom version) running Drupal 9, this documentation will allow you to update to 1.0.0 without major issues."),(0,o.kt)("h2",{id:"requirements"},"Requirements"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"An ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/esmero/archipelago-deployment"},"archipelago-deployment")," instance 1.0.0-RC3 (working, tested) deployed using provided instructions via Docker and running Drupal 9."),(0,o.kt)("li",{parentName:"ul"},"Basic knowledge and instincts (+ courage) on how to run Terminal Commands, ",(0,o.kt)("inlineCode",{parentName:"li"},"composer")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"drush"),"."),(0,o.kt)("li",{parentName:"ul"},"Patience. You can't skip steps here."),(0,o.kt)("li",{parentName:"ul"},"For Shell Commands documented here please copy line by line\u2014not the whole block.")),(0,o.kt)("h2",{id:"backing-up-and-preparing-for-the-upgrade"},"Backing up and preparing for the upgrade"),(0,o.kt)("p",null,"Backups are always going to be your best friends. Archipelago's code, database and settings are mostly self-contained in your current ",(0,o.kt)("inlineCode",{parentName:"p"},"archipelago-deployment-live")," repo folder, and backing up is simple because of that."),(0,o.kt)("h3",{id:"step-1"},"Step 1:"),(0,o.kt)("p",null,"Shut down your ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose")," ensemble. Move to your ",(0,o.kt)("inlineCode",{parentName:"p"},"archipelago-deployment")," folder and run this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose down\n")),(0,o.kt)("h3",{id:"step-2"},"Step 2:"),(0,o.kt)("p",null,"Verify that all containers are actually down. The following command should return an empty listing. If anything is still running, wait a little longer, and run the following comman again."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker ps\n")),(0,o.kt)("h3",{id:"step-3"},"Step 3:"),(0,o.kt)("p",null,"Now let's ",(0,o.kt)("inlineCode",{parentName:"p"},"tar.gz")," the whole ensemble with data and configs. As an example we will save this into your ",(0,o.kt)("inlineCode",{parentName:"p"},"$HOME")," folder.\nAs a good practice we append the ",(0,o.kt)("strong",{parentName:"p"},"current date "),"(YEAR-MONTH-DAY) to the filename. Here we assume today is August 3rd of 2022."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd ..\nsudo tar -czvpf $HOME/archipelago-deployment-RC3-backup-20220803.tar.gz archipelago-deployment\ncd archipelago-deployment\n")),(0,o.kt)("p",null,"The process may take a few minutes. Now let's verify that all is there and that the ",(0,o.kt)("inlineCode",{parentName:"p"},"tar.gz")," is not corrupt."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"tar -tvvf $HOME/archipelago-deployment-RC3-backup-20220803.tar.gz \n")),(0,o.kt)("p",null,"You will see a listing of files. If corrupt (Do you have enough space? Did your ssh connection drop?) you will see the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"tar: Unrecognized archive format\n")),(0,o.kt)("h3",{id:"step-4"},"Step 4:"),(0,o.kt)("p",null,"Restart your ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose")," ensemble, and wait a little while for all to start."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose up -d\n")),(0,o.kt)("h3",{id:"step-5"},"Step 5:"),(0,o.kt)("p",null,"Export/backup all of your live Archipelago configurations (this allows you to compare/come back in case you lose something custom during the upgrade)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec esmero-php mkdir config/backup\ndocker exec esmero-php drush cex --destination=/var/www/html/config/backup\n")),(0,o.kt)("p",null,"Good. Now it's safe to begin the upgrade."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"upgrading-to-100"},"Upgrading to 1.0.0"),(0,o.kt)("h3",{id:"step-1-1"},"Step 1:"),(0,o.kt)("p",null,"First we are going to disable modules that are not part of 1.0.0 or are not yet compatible with Drupal 9.4.x or higher. Run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec esmero-php drush pm-uninstall search_api_solr_defaults entity_reference\n")),(0,o.kt)("p",null,"From inside your ",(0,o.kt)("inlineCode",{parentName:"p"},"archipelago-deployment")," repo folder we are going to open up the file ",(0,o.kt)("inlineCode",{parentName:"p"},"permissions")," for some of your most protected Drupal files."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"sudo chmod 777 web/sites/default\nsudo chmod 666 web/sites/default/*settings.php\nsudo chmod 666 web/sites/default/*services.yml\n")),(0,o.kt)("p",null,"If on a Linux or Windows 10/11 with Windows Subsystem for Linux (WSL) host we are going to open up these additional permissions:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"sudo chown -R $USER:$USER web/sites/default/files/color\nsudo find web/sites/default/files/color -type d -exec chmod 755 {} + \n")),(0,o.kt)("h3",{id:"step-2-1"},"Step 2:"),(0,o.kt)("p",null,"Time to fetch the ",(0,o.kt)("inlineCode",{parentName:"p"},"1.0.0")," branch and update our ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"composer")," dependencies. We are also going to stop the current ",(0,o.kt)("inlineCode",{parentName:"p"},"docker")," ensemble to update all containers to newer versions:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose down\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git checkout 1.0.0 \n")),(0,o.kt)("p",null,"Then copy the appropriate ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose")," file for your architecture:"),(0,o.kt)("p",null,'??? info "OSX (macOS) Intel/x86-64"'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"```shell\ncp docker-compose-osx.yml docker-compose.yml\n```\n")),(0,o.kt)("p",null,'??? info "Linux/x86-64/AMD64"'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"```shell\ncp docker-compose-linux.yml docker-compose.yml\n```\n")),(0,o.kt)("p",null,'??? info "OSX (macOS) M1 and M2/Linux/ARM64"'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"```shell\ncp docker-compose-arm64.yml docker-compose.yml\n```\n")),(0,o.kt)("p",null,"Finally, pull the images"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose pull \n")),(0,o.kt)("p",null,"1.0.0 provides a new Cantaloupe that uses different permissions so we need to adapt those. From your current folder run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"sudo chown 8183:8183 persistent/iiifconfig/cantaloupe.properties\nsudo chown -R 8183:8183 persistent/iiifcache\n")),(0,o.kt)("p",null,"Time to start the ensemble again"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose up -d\n")),(0,o.kt)("p",null,"Give all a little time to start. ",(0,o.kt)("inlineCode",{parentName:"p"},"Solr")," core and ",(0,o.kt)("inlineCode",{parentName:"p"},"Database")," need to be upgraded, Cantaloupe is new and this brings also Redis for caching. Please be patient. To ensure all is well, run (more than once if necessary) the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker ps\n")),(0,o.kt)("p",null,"You should see something like this:\ne.g if running on ARM64 You should see something like this: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'CONTAINER ID   IMAGE                                    COMMAND                  CREATED          STATUS          PORTS                                                           NAMES\n4ed2f62e866e   jonasal/nginx-certbot                      "/docker-entrypoint.\u2026" 32 seconds ago   Up 27 seconds   0.0.0.0:80->80/tcp, :::80->80/tcp, 0.0.0.0:443->443/tcp, :::443->443/tcp   esmero-web\ne6b4383039c3   minio/minio:RELEASE.2022-06-11T19-55-32Z   "/usr/bin/docker-ent\u2026" 33 seconds ago   Up 30 seconds   0.0.0.0:9000-9001->9000-9001/tcp, :::9000-9001->9000-9001/tcp              esmero-minio\nf2b6b173b7e2   solr:8.11.2                                "docker-entrypoint.s\u2026" 33 seconds ago   Up 28 seconds   0.0.0.0:8983->8983/tcp, :::8983->8983/tcp                                  esmero-solr\na553bf484343   esmero/php-8.0-fpm:1.0.0-multiarch         "docker-php-entrypoi\u2026" 33 seconds ago   Up 30 seconds   9000/tcp                                                                   esmero-php\necb47349ae94   esmero/esmero-nlp:fasttext-multiarch       "/usr/local/bin/entr\u2026" 33 seconds ago   Up 30 second    0.0.0.0:6400->6400/tcp, :::6400->6400/tcp                                  esmero-nlp\n61272dce034a   redis:6.2-alpine                           "docker-entrypoint.s\u2026" 33 seconds ago   Up 28 seconds                                                                              esmero-redis\n0ee9869f809b   esmero/cantaloupe-s3:6.0.0-multiarch       "sh -c \'java -Dcanta\u2026" 33 seconds ago   Up 28 seconds   0.0.0.0:8183->8182/tcp, :::8183->8182/tcp                                  esmero-cantaloupe\n131d072567ce   mariadb:10.6.8-focal                       "docker-entrypoint.s\u2026" 33 seconds ago   Up 28 seconds   3306/tcp                                                                   esmero-db                                            esmero-php\n')),(0,o.kt)("p",null,"Important here is the ",(0,o.kt)("inlineCode",{parentName:"p"},"STATUS")," column. It ",(0,o.kt)("strong",{parentName:"p"},"needs")," to be a number that goes up in time every time you run ",(0,o.kt)("inlineCode",{parentName:"p"},"docker ps")," again (and again)."),(0,o.kt)("h3",{id:"step-3-1"},"Step 3:"),(0,o.kt)("p",null,"Now we are going to tell ",(0,o.kt)("inlineCode",{parentName:"p"},"composer")," to actually fetch the new code and dependencies using ",(0,o.kt)("inlineCode",{parentName:"p"},"composer.lock")," and update the whole Drupal/PHP/JS environment."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'docker exec -ti esmero-php bash -c "composer update -W"\ndocker exec -ti esmero-php bash -c "drush cr"\ndocker exec -ti esmero-php bash -c "drush en jquery_ui_touch_punch"\ndocker exec -ti esmero-php bash -c "drush updatedb"\n')),(0,o.kt)("p",null,"Well done! If you see ",(0,o.kt)("strong",{parentName:"p"},"no")," issues and all ends in a ",(0,o.kt)("strong",{parentName:"p"},"Green colored message")," all is good! ",(0,o.kt)("a",{parentName:"p",href:"#step-4_1"},"Jump to Step 4")),(0,o.kt)("h4",{id:"what-if-not-all-is-ok-and-i-see-red-and-a-lot-of-dependency-explanations"},"What if not all is OK and I see red and a lot of dependency explanations?"),(0,o.kt)("p",null,"If you have manually installed packages via composer in the past that are NO longer Drupal 9 compatible you may see errors.\nIn that case you need to check each package website's (normally ",(0,o.kt)("a",{parentName:"p",href:"https://www.drupal.org/project/the_module_name"},"https://www.drupal.org/project/the_module_name"),") and check if there is a Drupal 9 compatible version. "),(0,o.kt)("p",null,"If so run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec -ti esmero-php bash -c \"composer require 'drupal/the_module_name:^VERSION_NUMBER_THAT_WORKS_ON_DRUPAL9_' --update-with-dependencies --no-update\" and run **Step 3 ** again (and again until all is cleared)\n")),(0,o.kt)("p",null,"If not: try to find a replacement module that does something simular, but in any case you may end having to remove before proceding. Give us a ping/slack/google group/open a github ISSUE if you find yourself uncertain about this. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'docker exec -ti esmero-php bash -c "composer remove drupal/the_module_name --no-update"\ndocker exec -ti esmero-php bash -c "drush pm-uninstall the_module_name"\n')),(0,o.kt)("h3",{id:"step-4-1"},"Step 4:"),(0,o.kt)("p",null,"We will now ask Drupal to update some internal configs and databases. They will bring you up to date with 1.0.0 settings and D9 particularities."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec -ti esmero-php bash -c 'scripts/archipelago/setup.sh'\ndocker exec -ti esmero-php bash -c \"drush updatedb\"\n")),(0,o.kt)("h3",{id:"step-5-1"},"Step 5:"),(0,o.kt)("p",null,"Now you can Sync your new Archipelago 1.0.0 and bring all the new configs and settings in. For this you have ",(0,o.kt)("strong",{parentName:"p"},"two")," options (no worries, remember you made a backup!):"),(0,o.kt)("h4",{id:"a-partial-sync-which-will-bring-new-configs-and-update-existing-ones-but-will-not-remove-ones-that-only-exist-in-your-custom-setup-eg-new-webforms-or-view-modes"},"A Partial Sync, which will bring new configs and update existing ones but will ",(0,o.kt)("strong",{parentName:"h4"},"not")," remove ones that only exist in your custom setup, e.g. new Webforms or View Modes."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec esmero-php drush cim -y --partial\n")),(0,o.kt)("h4",{id:"a-complete-sync-which-will-bring-new-configs-and-update-existing-ones-but-will-also-remove-all-the-ones-that-are-not-part-of-100-its-a-like-clean-factory-reset"},"A Complete Sync, which will bring new configs and update existing ones but will also remove all the ones that are not part of 1.0.0. It's a like clean factory reset."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec esmero-php drush cim -y\n")),(0,o.kt)("p",null,"If all goes well here and you see no errors it's time to reindex ",(0,o.kt)("inlineCode",{parentName:"p"},"Solr")," because there are new Fields. Run the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec esmero-php drush search-api-reindex\ndocker exec esmero-php drush search-api-index\n")),(0,o.kt)("p",null,"You might see some warnings related to modules dealing with previously non-existent data\u2014no worries, just ignore those."),(0,o.kt)("p",null,"If you made it this far you are done with code/devops (are we ever ready?), and that means you should be able to (hopefully) stay in the Drupal 9 realm for a few years!"),(0,o.kt)("h3",{id:"step-7-update-or-not-your-metadata-display-entities-and-menu-items"},"Step 7: Update (or not) your Metadata Display Entities and Menu items."),(0,o.kt)("p",null,"Recommended: If you want to add new templates and menu items 1.0.0 provides, run this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec -ti esmero-php bash -c 'scripts/archipelago/deploy.sh'\n")),(0,o.kt)("p",null,"Once that is done, you can choose to update all Metadata Displays (Twig templates) we ship with new 1.0.0 versions (heavily fixed IIIF manifest, Markdown to HTML for Metadata, better Object descriptions). But before you do this, we ",(0,o.kt)("strong",{parentName:"p"},"really")," recommend that you first make sure to manually (copy/paste) backup any Twig templates you have modified. If unusure, do not run the command that comes after this warning! You can always manually copy the new templates from the ",(0,o.kt)("inlineCode",{parentName:"p"},"d8content/metadatadisplays")," folder which contains text versions (again, copy/paste) of each shipped template you can pick and use when you feel ready."),(0,o.kt)("p",null,"If you are sure (like really?) you want to overwrite the ones you modified (sure, just checking?), then you can run this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker exec -ti esmero-php bash -c 'scripts/archipelago/update_deployed.sh'\n")),(0,o.kt)("p",null,"Done! (For realz now)"),(0,o.kt)("p",null,"Please log into your Archipelago and test/check all is working! Enjoy 1.0.0. Thanks!"),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"need-help-blue-screen-missed-a-step-need-a-hug-and-such"},"Need help? Blue Screen? Missed a step? Need a hug and such?"),(0,o.kt)("p",null,"If you see any issues or errors or need help with a step, please let us know (ASAP!). You can either open an ",(0,o.kt)("inlineCode",{parentName:"p"},"issue")," in this repository or use the ",(0,o.kt)("a",{parentName:"p",href:"https://groups.google.com/forum/#!forum/archipelago-commons"},"Google Group"),". We are here to help."),(0,o.kt)("p",null,"If you like this, let us know!"),(0,o.kt)("h2",{id:"caring--coding--fixing--testing"},"Caring & Coding + Fixing + Testing"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/DiegoPino"},"Diego Pino")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/giancarlobi"},"Giancarlo Birello")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/alliomeria"},"Allison Lund")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/karomabiles"},"Katie Romabiles")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/aksm"},"Albert Min"))),(0,o.kt)("h2",{id:"license"},"License"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"http://www.gnu.org/licenses/gpl-3.0.txt"},"GPLv3")))}d.isMDXComponent=!0}}]);