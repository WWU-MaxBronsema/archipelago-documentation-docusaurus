"use strict";(self.webpackChunkarchipelago_documentation_docsaurus=self.webpackChunkarchipelago_documentation_docsaurus||[]).push([[3129],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>g});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(a),m=o,g=d["".concat(p,".").concat(m)]||d[m]||u[m]||i;return a?n.createElement(g,r(r({ref:t},c),{},{components:a})):n.createElement(g,r({ref:t},c))}));function g(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:o,r[1]=l;for(var s=2;s<i;s++)r[s]=a[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3490:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=a(7462),o=(a(7294),a(3905));const i={},r="Configuration for Google Sheets API",l={unversionedId:"googleapi",id:"googleapi",title:"Configuration for Google Sheets API",description:"To allow the Archipelago Multi Importer (AMI) to read from Google spreadsheets, you first need to configure the Google Sheets API as outlined in the following instructions.",source:"@site/docs/googleapi.md",sourceDirName:".",slug:"/googleapi",permalink:"/archipelago-documentation-docusaurus/docs/googleapi",draft:!1,editUrl:"https://pr.new/github.com/WWU-MaxBronsema/archipelago-documentation-docusaurus/docs/googleapi.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Archipelago Contribution Guide",permalink:"/archipelago-documentation-docusaurus/docs/giveortake"},next:{title:"Archipelago Commons Intro",permalink:"/archipelago-documentation-docusaurus/docs/"}},p={},s=[{value:"Generating Google OAuth2 Credentials",id:"generating-google-oauth2-credentials",level:3}],c={toc:s},d="wrapper";function u(e){let{components:t,...i}=e;return(0,o.kt)(d,(0,n.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"configuration-for-google-sheets-api"},"Configuration for Google Sheets API"),(0,o.kt)("p",null,"To allow the Archipelago Multi Importer (AMI) to read from Google spreadsheets, you first need to configure the Google Sheets API as outlined in the following instructions."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Please note:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Frequent changes to the Google Sheets API specifications may impact the configurations needed.")," "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"This set of instructions will only work for individuals using Google accounts affiliated with Organizations.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Please contact us on our ",(0,o.kt)("a",{parentName:"em",href:"https://groups.google.com/forum/#!forum/archipelago-commons"},"Archipelago Commons Google Group")," with any questions/issues."))),(0,o.kt)("h3",{id:"generating-google-oauth2-credentials"},"Generating Google OAuth2 Credentials"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Login to the ",(0,o.kt)("a",{parentName:"p",href:"https://console.developers.google.com"},"Google Developer Console"),". You will see the API & Services Dashboard."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Developer Console",src:a(9490).Z,width:"1234",height:"358"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"If you have not created Credentials or a Project before, you will need to first create a Project.  "),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},'Recommended Project Name: "Archipelago Multi Importer" or "AMI".'),(0,o.kt)("li",{parentName:"ul"},"The Organization and Location information should be specific to you and your organization/institution.")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Create Project",src:a(3163).Z,width:"530",height:"398"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Next, click the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create credentials")," select box and select ",(0,o.kt)("inlineCode",{parentName:"p"},"OAuth client ID")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Create credentials select",src:a(9624).Z,width:"1238",height:"597"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"You will now need to Configure the Consent Screen."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Configure Consent Screen",src:a(9806).Z,width:"1233",height:"411"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"On the initial OAuth Consent Screen setup, select ",(0,o.kt)("inlineCode",{parentName:"p"},"Internal")," for User Type."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"OAuth Consent Screen Setup",src:a(3841).Z,width:"1232",height:"821"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Now enter ",(0,o.kt)("inlineCode",{parentName:"p"},"AMI")," as the App name, and your email address in the User support email. You may also wish to add Authorized domains (bottom of image below) as well."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"OAuth Consent App Info",src:a(7270).Z,width:"720",height:"959"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"On the Scopes page, select ",(0,o.kt)("inlineCode",{parentName:"p"},"Add or Remove Scopes"),". Then either search/filter the API table for the Google Sheets API. Or, under ",(0,o.kt)("inlineCode",{parentName:"p"},"Manually add scopes")," enter: ",(0,o.kt)("a",{parentName:"p",href:"https://www.googleapis.com/auth/spreadsheets.readonly"},"https://www.googleapis.com/auth/spreadsheets.readonly")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Scopes Setup 1",src:a(6855).Z,width:"1210",height:"1214"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"After selecting or entering in the Google Sheets API, you should see this listed under ",(0,o.kt)("inlineCode",{parentName:"p"},"Sensitive Scopes"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Scopes Setup 2",src:a(4095).Z,width:"902",height:"981"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Review the information on the ",(0,o.kt)("inlineCode",{parentName:"p"},"Summary")," page, then Save."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Oauth Summary",src:a(6104).Z,width:"1058",height:"992"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"You will now be able to ",(0,o.kt)("inlineCode",{parentName:"p"},"Create Oauth client ID"),". Select ",(0,o.kt)("inlineCode",{parentName:"p"},"Web Application")," as the ",(0,o.kt)("inlineCode",{parentName:"p"},"Application type")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Application Type",src:a(7525).Z,width:"1240",height:"526"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Enter \"AMI\" under 'Name' and add any URIs you will be using below."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For using AMI within your local Archipelago environment, enter ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:8001/google_api_client/callback"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"All URIs need to include ",(0,o.kt)("inlineCode",{parentName:"p"},"/google_api_client/callback")),(0,o.kt)("p",{parentName:"li"},"  ",(0,o.kt)("img",{alt:"OauthClientID Configuration",src:a(5985).Z,width:"547",height:"490"}))))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"After Saving, you will see a message notifying you that the OAuth client was created. You can copy the ",(0,o.kt)("inlineCode",{parentName:"p"},"Client ID")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Client Secret")," directly from this confirmation message into a text editor. You can also access the information from ",(0,o.kt)("inlineCode",{parentName:"p"},"Credentials")," in the ",(0,o.kt)("inlineCode",{parentName:"p"},"APIs & Services")," section in the Developer console, where you will have additional options for downloading, copying, and modifying if needed."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"OauthClientID Details",src:a(5194).Z,width:"747",height:"181"})),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Google API Client Listing",src:a(2785).Z,width:"758",height:"502"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"On the 'Add Google Api Client account' configuration page, enter the following information using your ",(0,o.kt)("inlineCode",{parentName:"p"},"Client ID")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Client Secret"),". 'Developer Key' is optional. Select ",(0,o.kt)("inlineCode",{parentName:"p"},"Google Sheets API")," under 'Services' and ",(0,o.kt)("inlineCode",{parentName:"p"},"https://www,googleapis.com/auth/spreadsheets.readonly")," under 'Scopes'. Check the box for ",(0,o.kt)("inlineCode",{parentName:"p"},"Is Access Type Offline"),". Select the Save button."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Add GoogleAPI Client Account",src:a(3915).Z,width:"699",height:"841"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"You will now need to Authenticate your AMI Google API Client. Return to the Google API Client Listing page. Under the Operation menu on the right-hand side of the AMI client listing, select ",(0,o.kt)("inlineCode",{parentName:"p"},"Authenticate"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Authenticate",src:a(8873).Z,width:"1298",height:"301"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'You will be directed to the Google Consent Screen. You may need to login to your corresponding Google Account before proceeding. When loged in, you will see the following screen requesting that AMI is allowed to "View your Google Spreadsheets".  Click ',(0,o.kt)("inlineCode",{parentName:"p"},"Allow"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Google Consent",src:a(1009).Z,width:"461",height:"619"})))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"On the Google API Client Listing page, your AMI client listing should now have 'Yes' under 'Is Authenticated'. You are now ready to use Google Sheets with AMI! Return to the ",(0,o.kt)("a",{parentName:"li",href:"/archipelago-documentation-docusaurus/docs/ami_index"},"main AMI documentation page")," to get started.")),(0,o.kt)("hr",null),(0,o.kt)("p",null,"Thank you for reading! Please contact us on our ",(0,o.kt)("a",{parentName:"p",href:"https://groups.google.com/forum/#!forum/archipelago-commons"},"Archipelago Commons Google Group")," with any questions or feedback."),(0,o.kt)("p",null,"Return to the ",(0,o.kt)("a",{parentName:"p",href:"/archipelago-documentation-docusaurus/docs/"},"Archipelago Documentation main page"),"."))}u.isMDXComponent=!0},7525:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/10_CreateOauthID-647868df9948a5ae671d9c9a0c3ac9ef.jpg"},5985:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/11_OauthClientID-561b6f653112001dad0f809f554cda69.jpg"},5194:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/12_ClientIDdetails-6312f19baeec93ec01a237e757810ba3.jpg"},2785:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/13_GoogleApiClientListing-b052f739de73dd58cb0d35702415a847.jpg"},3915:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/14_AddGoogleAPIClientAccount-b8e91b5998a413c265c56dba8cdb09bb.jpg"},8873:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/15_Authenticate-32d7747e3f5efcb8306d37ded8d1f348.jpg"},1009:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/16_GoogleConsent-2897a2cb03265877ef7edd070ce2b517.jpg"},9490:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/1_GoogleDeveloperDashoard-e1c1a937aaf19034a394ee49588fc4b9.jpg"},3163:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/2_GoogleDeveloperNewProject-13440f51634d100d409a492422b818dd.jpg"},9624:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/3_CreateCredentials-7e361d2ef0ba2bdd4c9d8e21968b165f.jpg"},9806:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/4_CreateOAuthClientID-12b349d34f664a642b74f626a787c7f0.jpg"},3841:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/5_OauthConsentScreen-95013ef221684b2e14b2d2d7b8d698ce.jpg"},7270:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/6_OauthConsentInfo-da411c92cdd571cc07761e9dd8b7c343.jpg"},6855:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/7_OauthScopes1-f98c05e21e7a3cc64818411364a261f7.jpg"},4095:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/8_OauthScopes2-8d369b6116887d8fd34113fb2b9a0e5e.jpg"},6104:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/9_OauthSummary-a3c440e1712a1a6fd63b7878017b469c.jpg"}}]);