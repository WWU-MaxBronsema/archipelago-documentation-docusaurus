"use strict";(self.webpackChunkarchipelago_documentation_docsaurus=self.webpackChunkarchipelago_documentation_docsaurus||[]).push([[613],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>k});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=s(a),c=r,k=m["".concat(p,".").concat(c)]||m[c]||d[c]||l;return a?n.createElement(k,i(i({ref:t},u),{},{components:a})):n.createElement(k,i({ref:t},u))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[m]="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},4444:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const l={},i="Working with Twig in Archipelago",o={unversionedId:"workingtwigs",id:"workingtwigs",title:"Working with Twig in Archipelago",description:'The following information can also be found in this Presentation from the "Twig Templates and Archipelago" Spring 2021 Workshop:',source:"@site/docs/workingtwigs.md",sourceDirName:".",slug:"/workingtwigs",permalink:"/archipelago-documentation-docusaurus/docs/workingtwigs",draft:!1,editUrl:"https://pr.new/github.com/WWU-MaxBronsema/archipelago-documentation-docusaurus/docs/workingtwigs.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Webforms as input method for Archipelago Digital Objects (ADO)",permalink:"/archipelago-documentation-docusaurus/docs/webformsasinput"},next:{title:"Debugging PHP in Archipelago",permalink:"/archipelago-documentation-docusaurus/docs/xdebug"}},p={},s=[{value:"Prequisites (with food analogy)",id:"prequisites-with-food-analogy",level:2},{value:"Note about the Examples:",id:"note-about-the-examples",level:4},{value:"First: Know Your Data",id:"first-know-your-data",level:2},{value:"Getting Started with the Twig Language in Archipelago",id:"getting-started-with-the-twig-language-in-archipelago",level:2},{value:"Twig Statements and Printing",id:"twig-statements-and-printing",level:4},{value:"Twig Statements and Executing",id:"twig-statements-and-executing",level:4},{value:"Full Examples for Common Uses Cases:",id:"full-examples-for-common-uses-cases",level:3},{value:"A Recommended Workflow",id:"a-recommended-workflow",level:3},{value:"And now it&#39;s your turn!",id:"and-now-its-your-turn",level:2}],u={toc:s},m="wrapper";function d(e){let{components:t,...l}=e;return(0,r.kt)(m,(0,n.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"working-with-twig-in-archipelago"},"Working with Twig in Archipelago"),(0,r.kt)("p",null,'The following information can also be found in this Presentation from the "Twig Templates and Archipelago" Spring 2021 Workshop:'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://tinyurl.com/archipelagoandtwig"},"Twig Templates and Archipelago"))),(0,r.kt)("h2",{id:"prequisites-with-food-analogy"},"Prequisites (with food analogy)"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Know your Data/Metadata. What do I have? :thinking:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"What do I have in my Fridge? Do I have Tofu? Do I have Peppermint \ud83c\udf6c? One Bunch?"))),(0,r.kt)("li",{parentName:"ol"},"Know your final desired output Document: MODS, HTML, GEOJSON, etc. ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"What are you going to cook \ud83e\uddd1\u200d\ud83c\udf73? Do you have a picture of the Curry \ud83c\udf5b? Have you ever had Curry \ud83c\udf72?"))),(0,r.kt)("li",{parentName:"ol"},"Know your Twig Basics",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"How to cut and dice \ud83d\udd2a, steam and saut\xe9 \ud83e\udd63"))),(0,r.kt)("li",{parentName:"ol"},"Do not be afraid",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"You can\u2019t get burned \ud83d\udd25 here and Ingredients \ud83c\udf53 do not expire!"))),(0,r.kt)("li",{parentName:"ol"},"Ask for help. Slack/Google Groups/Postcards \u2709\ufe0f \ud83d\udcec",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Seeing others cook helps and also motivates. Others may share some spices. \ud83c\udf36\ufe0f"))),(0,r.kt)("li",{parentName:"ol"},"Use and Share your findings!",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Eat what you cook. \ud83c\udf6a Share with friends and family. \ud83c\udf70")))),(0,r.kt)("h4",{id:"note-about-the-examples"},"Note about the Examples:"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"All examples shown below are using the following JSON snipped from ",(0,r.kt)("a",{parentName:"em",href:"https://archipelago.nyc/do/17355bdb-d784-4037-96fe-5c160296e639"},"Laddie the dog running in the garden, Bronx, N.Y., undated [c. 1910-1918?]"),".")),(0,r.kt)("p",null,'??? info "Click to view image of the JSON snippet."'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"![LaddieJSON](images/LaddieJSON.png)\n")),(0,r.kt)("p",null,'??? info "Click to view this snippet as JSON."'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'```json\n{\n    "type": "Photograph",\n    "label": "Laddie the dog running in the garden, Bronx, N.Y., undated [c. 1910-1918?]",\n    "owner": "New-York Historical Society, 170 Central Park West, New York, NY 10024, 212-873-3400.",\n    "rights": "This digital image may be used for educational or scholarly purposes without restriction. Commercial and other uses of the item are prohibited without prior written permission from the New-York Historical Society. For more information, please visit the New-York Historical Society\'s Rights and Reproductions Department web page at http:\\/\\/www.nyhistory.org\\/about\\/rights-reproductions",\n    "language": [\n        "English"\n    ],\n    "documents": [],\n    "publisher": "",\n    "ismemberof": "111",\n    "creator_lod": [\n        {\n            "name_uri": "",\n            "role_uri": "http:\\/\\/id.loc.gov\\/vocabulary\\/relators\\/pht",\n            "agent_type": "personal",\n            "name_label": "Stonebridge, George Ehler",\n            "role_label": "Photographer"\n        }\n    ],\n    "description": "George Ehler Stonebridge (d. 1941) was an amateur photographer who lived and worked in the Bronx, New York.",\n    "subject_loc": [\n        {\n            "uri": "http:\\/\\/id.loc.gov\\/authorities\\/subjects\\/sh85038796",\n            "label": "Dogs"\n        }\n    ],\n    "date_created": "1910-01-01"\n}\n```\n')),(0,r.kt)("h2",{id:"first-know-your-data"},"First: Know Your Data"),(0,r.kt)("p",null,"Understanding the basic structure of your JSON data. "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Single JSON Value."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"KnowYourData1",src:a(175).Z,width:"325",height:"116"})),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"For ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "Photograph"'),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'"type" = JSON Key or Property'),(0,r.kt)("li",{parentName:"ul"},'"Photograph" = Single JSON Value (string)'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Multiple JSON Values (Array of Enumeration of ",(0,r.kt)("strong",{parentName:"p"},"Strings"),")"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"KnowYourData2",src:a(6401).Z,width:"290",height:"178"})),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"For ",(0,r.kt)("inlineCode",{parentName:"li"},'"language": ["English","Spanish"]'),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'"language" = JSON Key or Property'),(0,r.kt)("li",{parentName:"ul"},'"','["English","Spanish"]','" = Multiple JSON Values (Array of Enumeration of ',(0,r.kt)("strong",{parentName:"li"},"Strings"),")"))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Multiple JSON Values\t(Array of Enumeration of ",(0,r.kt)("strong",{parentName:"p"},"Objects"),")"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"KnowYourData3",src:a(5461).Z,width:"381",height:"265"})),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"For ",(0,r.kt)("inlineCode",{parentName:"li"},'"subject_loc":[{"uri":"http://..","label":"Dogs"},{"uri":"http://..","label":"Pets"}]'),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'"subject_loc" = JSON Key or Property'),(0,r.kt)("li",{parentName:"ul"},'[{"uri":"http://..","label":"Dogs"},{"uri":"http://..","label":"Pets"}]'," =",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Object")," with two JSON Keys. Each one with a single Value"),(0,r.kt)("li",{parentName:"ul"},"Multiple JSON Values (Array of Enumeration of ",(0,r.kt)("strong",{parentName:"li"},"Objects"),")")))))))),(0,r.kt)("h2",{id:"getting-started-with-the-twig-language-in-archipelago"},"Getting Started with the Twig Language in Archipelago"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Data")," is known as ",(0,r.kt)("strong",{parentName:"p"},"Context")," in Twig Lingo.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"All your")," JSON Strawberryfield Metadata is accessible inside a Variable named ",(0,r.kt)("em",{parentName:"p"},"data")," in your twig template. ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"You can access the ",(0,r.kt)("em",{parentName:"p"},"values")," by using ",(0,r.kt)("inlineCode",{parentName:"p"},"data DOT Property (attribute) Name"),"."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"In the Laddie the Dog example ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/esmero/archipelago-documentation/blob/1.0.0/docs/workingtwigs.md#note-about-the-examples"},"shown above (originally)"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data.type"),' will contain "Photograph"'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data.language")," will contain ",'[ "English" ]'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data.language[0]"),' will contain "English" ',(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"0 means first entry in an Array or Enumeration"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data.subject_loc")," will contain ",'[{ "uri":"http://..","label": "Dog" }]'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data.subject_loc.uri")," will contain ",(0,r.kt)("inlineCode",{parentName:"li"},'"http://.."')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"data.subject_loc.label"),' will contain "Dog"'))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Please note: you also have access to other info in your ",(0,r.kt)("strong",{parentName:"p"},"context")," ",(0,r.kt)("inlineCode",{parentName:"p"},"node"),": such as",(0,r.kt)("inlineCode",{parentName:"p"},"node.id")," is the Drupal ID of your Current ADO; Also ",(0,r.kt)("inlineCode",{parentName:"p"},"is_front"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"language"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"is_admin"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"logged_in")," and more!"))),(0,r.kt)("h4",{id:"twig-statements-and-printing"},"Twig Statements and Printing"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://twig.symfony.com/doc/3.x/templates.html"},"https://twig.symfony.com/doc/3.x/templates.html"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Simple examples using Printing Statements")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Single JSON Value Example:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Twig template: "),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-twig"},"Hello I am a {{ data.type }} and very happy to meet you\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rendered output:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Hello I am a Photograph and very happy to meet you")))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Multiple JSON Values Example:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Twig template:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-twig"},'Hello I was classified as "{{ data.subject_loc[0].label }}" and very happy to meet you\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rendered Output:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'Hello I was classified as "Dogs" and very happy to meet you'))))))),(0,r.kt)("h4",{id:"twig-statements-and-executing"},"Twig Statements and Executing"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://twig.symfony.com/doc/3.x/tags/if.html"},"https://twig.symfony.com/doc/3.x/tags/if.html"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rendered Output based upon different Twig ",(0,r.kt)("inlineCode",{parentName:"p"},"conditionals"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"operators"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"tests"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"assignments"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"filters"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Example 1:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Twig template:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-twig"},"{% if data.subject_loc is defined %}\nHey I have a Subject Key\n{% else %}\nUps no Subject Key\n{% endif %}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rendered Output:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Hey I have a Subject Key")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Conditionals, Operator, and Test usage:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"If/else")," are conditionals"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"is")," is an operator"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"defined")," is a test\t"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Example 2:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Twig template:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-twig"},"{% for key, subject in data.subject_loc %}\n* Subject {{ subject.label }} found at position {{ key }}\n{% endfor %}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rendered Output:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"* Subject Dogs found at position 0")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Loop usage:\t"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"for")," is a loop"),(0,r.kt)("li",{parentName:"ul"},"Inside the loop you have access to ",(0,r.kt)("strong",{parentName:"li"},"key"),", ",(0,r.kt)("strong",{parentName:"li"},"subject")))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Example 3:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Twig template:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-twig"},"{% for subject in data.subject_loc %}\n{% set label_lowercase = subject.label|lower %}\nMy lower case Subject is {{ label_lowercase }}\n{% endfor %}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rendered Output:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"My lower case Subject is dogs")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Assignment, Filter, and Loop uage:\t"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"set")," is an assignment "),(0,r.kt)("li",{parentName:"ul"},"| is a pipe, used after a value to apply a ",(0,r.kt)("strong",{parentName:"li"},"filter"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"lower")," is a filter"),(0,r.kt)("li",{parentName:"ul"},"Inside the loop you have have access to ",(0,r.kt)("strong",{parentName:"li"},"subject")," and ",(0,r.kt)("strong",{parentName:"li"},"label_lowercase")))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Example 4:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Twig template: "),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-twig"},"{% for subject in data.subject_loc %}\n  {% set label_lowercase = subject.label|lower %}\nMy lower case Subject is {{ label_lowercase }}\n{% endfor %}\n{# \n This won\u2019t display because it was assigned inside \n The For Loop\n#}\n{{ label_lowercase }}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rendered Output:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"My lower case Subject is dogs"))))))),(0,r.kt)("h3",{id:"full-examples-for-common-uses-cases"},"Full Examples for Common Uses Cases:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Use case #1:")," I have multiple LoD Subjects and want to display them in my page as a clickable ordered list but I\u2019m a safe/careful person."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Twig Example for Use Case #1:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-twig"},'{% if data.subject_loc is iterable and data.subject_loc is not empty %}\n<h2>My Subjects</h2>\n<ul>\n   {% for subject in data.subject_loc %}\n   <li>\n      <a href="{{ subject.uri }}" title="{{ subject.label|capitalize }}" target="_blank">\n      {{ subject.label }}\n      </a>\n   </li> \n   {% endfor %}\n</ul>\n{% endif %}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Use case #2:")," I have sometimes a publication date. I want to show it in beautiful human readable language."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Twig Example for Use Case #2:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-twig"},'{% if data.date_published is not empty %}\n<h2>Date {{ data.label }} was published:</h2>\n<p>\n{{ data.date_published|date("F jS \\\\o\\\\f Y \\\\a\\\\t g:ia") }}\n</p>\n{% endif %}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note about ",(0,r.kt)("inlineCode",{parentName:"strong"},"date")," in this Use Case #2 Twig Example:")," "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"date()")," is a function"),(0,r.kt)("li",{parentName:"ul"},"It uses a ",(0,r.kt)("a",{parentName:"li",href:"https://www.php.net/manual/en/datetime.formats.date.php"},"\u201cDate Format Pattern\u201d")," as argument.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Use Case #3 (Full Curry):")," {# May 4th 2021 @dpino: I have sometimes a user provided creation date. I want to show it in beautiful human readable language but fallback to automatic date if absent. I also want in the last case to show it was either \u201ccreated\u201d or \u201cupdated\u201d. #}"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'    "as:generator": {\n        "type": "Update",\n        "actor": {\n            "url": "https:\\/\\/archipelago.nyc\\/form\\/descriptive-metadata",\n            "name": "descriptive_metadata",\n            "type": "Service"\n        },\n        "endTime": "2021-03-17T13:24:01-04:00",\n        "summary": "Generator",\n        "@context": "https:\\/\\/www.w3.org\\/ns\\/activitystreams"\n    }\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Twig Example for Use Case #3:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-twig"},"{% if data.date_created is not empty %}\n<h2>Date {{ data.label }} was created:</h2>\n<p>\n  {{ data.date_created|date(\"F jS \\\\o\\\\f Y \\\\a\\\\t g:ia\") }}\n</p>\n{% else %}\n<h2>Date {{ data.label }} was {{ attribute(data, 'as:generator').type|lower }}d  in this repository:</h2>\n<p>\n  {{  attribute(data, 'as:generator').endTime|date(\"F jS \\\\o\\\\f Y \\\\a\\\\t g:ia\") }}\n</p>\n{% endif %}\n")),(0,r.kt)("h3",{id:"a-recommended-workflow"},"A Recommended Workflow"),(0,r.kt)("p",null,"You want to create a New Metadata Display (HTML) or a new (XML) Schema based format?"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Get yourself an example ",(0,r.kt)("strong",{parentName:"li"},"document (Frame)"),". If ",(0,r.kt)("strong",{parentName:"li"},"HTML")," copy the source. If ",(0,r.kt)("strong",{parentName:"li"},"XML")," copy the full XML. (cmd+c)"),(0,r.kt)("li",{parentName:"ol"},"Create a new ",(0,r.kt)("strong",{parentName:"li"},"Metadata Display Entity"),". Copy the content (text) of your Frame into the Edit window. (cmd+v)"),(0,r.kt)("li",{parentName:"ol"},"Select an existing (as complete as possible) ADO to use as preview, press Preview."),(0,r.kt)("li",{parentName:"ol"},"Put your nice glasses \ud83e\udd13 on. What do you see? What data in your Frame do you have in your ADO (data)?"),(0,r.kt)("li",{parentName:"ol"},"Start nimble. Selected the ",(0,r.kt)("inlineCode",{parentName:"li"},"data.label")," info, check where your ",(0,r.kt)("strong",{parentName:"li"},"Frame")," uses a ",(0,r.kt)("em",{parentName:"li"},"Title")," or a ",(0,r.kt)("em",{parentName:"li"},"Label"),". Remove that text (cmd+x) and replace with a ",(0,r.kt)("inlineCode",{parentName:"li"},"{{ data.label }}"),". Press Preview. Do you see your title?"),(0,r.kt)("li",{parentName:"ol"},"Keep doing ",(0,r.kt)("strong",{parentName:"li"},"6"),", over and over. Leave complex values for the end. (e.g ",(0,r.kt)("inlineCode",{parentName:"li"},"data.subject_loc"),")"),(0,r.kt)("li",{parentName:"ol"},"Document your changes. ",(0,r.kt)("inlineCode",{parentName:"li"},"{# I added this because .. #}")),(0,r.kt)("li",{parentName:"ol"},"Save.")),(0,r.kt)("p",null,"Once the Template is in place you can use it in a ",(0,r.kt)("em",{parentName:"p"},"Formatter"),", as ",(0,r.kt)("em",{parentName:"p"},"Endpoint"),", in your ",(0,r.kt)("em",{parentName:"p"},"Search Results")," or just keep it around until you and the world are ready!"),(0,r.kt)("h2",{id:"and-now-its-your-turn"},"And now it's your turn!"),(0,r.kt)("p",null,"We hope you found the information presented here to be helpful in getting started working with Twigs in Archipelago. Click here to return to the main ",(0,r.kt)("a",{parentName:"p",href:"/archipelago-documentation-docusaurus/docs/metadatatwigs"},"Twigs in Archipelago documentation"),". Happy Twigging!"),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Thank you for reading! Please contact us on our ",(0,r.kt)("a",{parentName:"p",href:"https://groups.google.com/forum/#!forum/archipelago-commons"},"Archipelago Commons Google Group")," with any questions or feedback."),(0,r.kt)("p",null,"Return to the ",(0,r.kt)("a",{parentName:"p",href:"/archipelago-documentation-docusaurus/docs/"},"Archipelago Documentation main page"),"."))}d.isMDXComponent=!0},175:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/KnowYourData1-78434348ee25473631955796c9216142.png"},6401:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/KnowYourData2-2f3437695a8ec4faa46012ef0496911f.png"},5461:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/KnowYourData3-efd50470cf8ef2f02acfddd2880f5724.png"}}]);